model User {
  id                   String                 @id @default(cuid())
  firstName            String
  lastName             String
  username             String                 @unique
  email                String                 @unique
  password             String
  signature            String?
  DOB                  String
  truckView            Boolean
  tascoView            Boolean
  laborView            Boolean
  mechanicView         Boolean
  permission           Permission             @default(USER)
  image                String?
  activeEmployee       Boolean                @default(true)
  startDate            DateTime?              @default(now())
  terminationDate      DateTime?
  accountSetup         Boolean                @default(false)
  clockedIn            Boolean                @default(false)
  companyId            String
  passwordResetTokenId String?
  workTypeId           String?
  contact              Contacts?
  equipmentLogs        EmployeeEquipmentLog[]
  FormApproval         FormApproval[]
  formSubmission       FormSubmission[]
  maintenanceLogs      MaintenanceLog[]
  passwordResetTokens  PasswordResetToken[]
  timeSheets           TimeSheet[]
  company              Company                @relation(fields: [companyId], references: [id])
  WorkTypes            WorkTypes?             @relation(fields: [workTypeId], references: [id])
  userSettings         UserSettings?
  crews                Crew[]                 @relation("CrewToUser")

  @@unique([firstName, lastName, DOB])
  @@index([email])
}

model WorkTypes {
  id    String @id @default(cuid())
  name  String @unique
  Users User[]
}

model UserSettings {
  id                String  @id @default(cuid())
  userId            String  @unique
  language          String  @default("en")
  generalReminders  Boolean @default(false)
  personalReminders Boolean @default(false)
  cameraAccess      Boolean @default(false)
  locationAccess    Boolean @default(false)
  cookiesAccess     Boolean @default(false)
  user              User    @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Contacts {
  id                     String   @id @default(cuid())
  employeeId             String   @unique
  phoneNumber            String
  emergencyContact       String?
  emergencyContactNumber String?
  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
  user                   User     @relation(fields: [employeeId], references: [id], onDelete: Cascade)
}

model PasswordResetToken {
  id         String   @id @default(cuid())
  email      String
  token      String   @unique
  expiration DateTime
  Users      User     @relation(fields: [email], references: [email])

  @@unique([email, token])
}
